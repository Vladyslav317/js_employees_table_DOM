{"version":3,"sources":["scripts/main.js"],"names":["clickCount","body","document","querySelector","thead","tbody","rows","convertToNumber","elem","split","join","pushNotification","title","description","type","div","createElement","classList","add","setAttribute","insertAdjacentHTML","append","setTimeout","remove","addEventListener","ev","targeted","target","closest","cellIndex","sorted","sort","a","b","first","cells","textContent","second","isNaN","localeCompare","form","preventDefault","data","FormData","arrData","get","tr","length","i","td","parseInt","toLocaleString","reset","originalText","input","className","name","focus","textInput","e","code","value","e2"],"mappings":"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","file":"main.a3597fed.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst body = document.querySelector('body');\r\nconst thead = document.querySelector('thead');\r\nconst tbody = document.querySelector('tbody');\r\n\r\nconst rows = tbody.rows;\r\n\r\nlet clickCount;\r\n\r\nfunction convertToNumber(elem) {\r\n  return elem.split('$').join('').split(',').join('');\r\n}\r\n\r\nfunction pushNotification(title, description, type) {\r\n  const div = document.createElement('div');\r\n\r\n  div.classList.add('notification', type);\r\n  div.setAttribute('data-qa', 'notification');\r\n\r\n  div.insertAdjacentHTML('afterbegin', `\r\n    <h1 class=\"title\">${title}</h1>\r\n    <p>${description}</p>\r\n  `);\r\n\r\n  body.append(div);\r\n\r\n  setTimeout(() => {\r\n    div.remove();\r\n  }, 3000);\r\n}\r\n\r\nthead.addEventListener('click', ev => {\r\n  const targeted = ev.target.closest('th');\r\n\r\n  clickCount++;\r\n\r\n  const cellIndex = targeted.cellIndex;\r\n\r\n  const sorted = [...rows].sort((a, b) => {\r\n    const first = convertToNumber(a.cells[cellIndex].textContent);\r\n    const second = convertToNumber(b.cells[cellIndex].textContent);\r\n\r\n    if (clickCount === 1) {\r\n      if (isNaN(first)) {\r\n        return first.localeCompare(second);\r\n      } else {\r\n        return first - second;\r\n      }\r\n    } else if (clickCount === 2) {\r\n      if (isNaN(second)) {\r\n        return second.localeCompare(first);\r\n      } else {\r\n        return second - first;\r\n      }\r\n    }\r\n\r\n    clickCount = 1;\r\n  });\r\n\r\n  tbody.append(...sorted);\r\n});\r\n\r\ntbody.addEventListener('click', ev => {\r\n  const targeted = ev.target.closest('tr');\r\n\r\n  for (const row of rows) {\r\n    row.classList.remove('active');\r\n  }\r\n\r\n  targeted.classList.add('active');\r\n});\r\n\r\nbody.insertAdjacentHTML('beforeend', `\r\n  <form class=\"new-employee-form\">\r\n    <label>Name:\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        data-qa=\"name\"\r\n      >\r\n    </label>\r\n    <label>Position:\r\n      <input\r\n        name=\"position\"\r\n        type=\"text\"\r\n        data-qa=\"position\"\r\n      >\r\n    </label>\r\n    <label>Office:\r\n      <select name=\"office\" data-qa=\"office\">\r\n        <option value=\"Tokyo\">Tokyo</option>\r\n        <option value=\"Singapore\">Singapore</option>\r\n        <option value=\"London\">London</option>\r\n        <option value=\"New York\">New York</option>\r\n        <option value=\"Edinburgh\">Edinburgh</option>\r\n        <option value=\"San Francisco\">San Francisco</option>\r\n      </select>\r\n    </label>\r\n    <label>Age:\r\n      <input\r\n        name=\"age\"\r\n        type=\"number\"\r\n        data-qa=\"age\"\r\n      >\r\n    </label>\r\n    <label>Salary:\r\n      <input\r\n        name=\"salary\"\r\n        type=\"number\"\r\n        data-qa=\"salary\"\r\n      >\r\n    </label>\r\n    <button>Save to table</buttom>\r\n  </form>\r\n`);\r\n\r\nconst form = document.querySelector('form');\r\n\r\nform.addEventListener('submit', ev => {\r\n  ev.preventDefault();\r\n\r\n  const data = new FormData(form);\r\n\r\n  const arrData = [\r\n    data.get('name'),\r\n    data.get('position'),\r\n    data.get('office'),\r\n    data.get('age'),\r\n    data.get('salary'),\r\n  ];\r\n\r\n  const tr = document.createElement('tr');\r\n\r\n  if (data.get('name').length === 0\r\n    || data.get('position').length === 0\r\n    || data.get('office').length === 0\r\n    || data.get('age') === 0\r\n    || data.get('salary') === 0) {\r\n    pushNotification('Error', 'No data filled', 'error');\r\n  } else if (data.get('name') < 4) {\r\n    pushNotification('Error', 'Invalid name', 'error');\r\n  } else if (+data.get('age') < 18 || +data.get('age') > 90) {\r\n    pushNotification('Error',\r\n      'Invalid age. Should be at least 18 and max 90',\r\n      'error'\r\n    );\r\n  } else {\r\n    for (let i = 0; i < arrData.length; i++) {\r\n      const td = document.createElement('td');\r\n\r\n      if (i !== arrData.length - 1) {\r\n        td.textContent = arrData[i];\r\n      }\r\n\r\n      if (i === arrData.length - 1) {\r\n        td.textContent = `$${parseInt(arrData[i]).toLocaleString('en-US')}`;\r\n      }\r\n\r\n      tr.append(td);\r\n\r\n      pushNotification('Success', 'Successfully added', 'success');\r\n    }\r\n  }\r\n\r\n  form.reset();\r\n\r\n  tbody.append(tr);\r\n});\r\n\r\ntbody.addEventListener('dblclick', ev => {\r\n  const targeted = ev.target;\r\n\r\n  const originalText = targeted.textContent;\r\n\r\n  const input = document.createElement('input');\r\n\r\n  input.className = 'cell-input';\r\n  input.name = 'text';\r\n  input.type = 'text';\r\n\r\n  targeted.textContent = '';\r\n\r\n  targeted.append(input);\r\n  input.focus();\r\n\r\n  const textInput = document.querySelector('.cell-input');\r\n\r\n  input.addEventListener('keydown', e => {\r\n    if (e.code === 'Enter') {\r\n      if (textInput.value.length === 0) {\r\n        targeted.textContent = originalText;\r\n      }\r\n\r\n      if (targeted.cellIndex === 0) {\r\n        if (textInput.value.length < 4) {\r\n          targeted.textContent = originalText;\r\n\r\n          pushNotification('Error', 'Invalid Name', 'error');\r\n        } else {\r\n          targeted.textContent = textInput.value;\r\n\r\n          pushNotification('Success', 'Successfully changed', 'success');\r\n        }\r\n      } else if (targeted.cellIndex === 3) {\r\n        if (+textInput.value < 18 || +textInput.value > 90) {\r\n          targeted.textContent = originalText;\r\n\r\n          pushNotification('Error', 'Invalid Age', 'error');\r\n        } else {\r\n          targeted.textContent = textInput.value;\r\n\r\n          pushNotification('Success', 'Successfully changed', 'success');\r\n        }\r\n      } else if (targeted.cellIndex === 4) {\r\n        if (isNaN(textInput.value)) {\r\n          targeted.textContent = originalText;\r\n\r\n          pushNotification('Error', 'Not a number', 'error');\r\n        } else {\r\n          targeted.textContent = `\r\n            $${parseInt(textInput.value).toLocaleString('en-US')}\r\n          `;\r\n\r\n          pushNotification('Success', 'Successfully changed', 'success');\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  input.addEventListener('blur', e2 => {\r\n    if (textInput.value.length === 0) {\r\n      targeted.textContent = originalText;\r\n    }\r\n\r\n    if (targeted.cellIndex === 0) {\r\n      if (textInput.value.length < 4) {\r\n        targeted.textContent = originalText;\r\n\r\n        pushNotification('Error', 'Invalid Name', 'error');\r\n      } else {\r\n        targeted.textContent = textInput.value;\r\n\r\n        pushNotification('Success', 'Successfully changed', 'success');\r\n      }\r\n    } else if (targeted.cellIndex === 3) {\r\n      if (+textInput.value < 18 || +textInput.value > 90) {\r\n        targeted.textContent = originalText;\r\n\r\n        pushNotification('Error', 'Invalid Age', 'error');\r\n      } else {\r\n        targeted.textContent = textInput.value;\r\n\r\n        pushNotification('Success', 'Successfully changed', 'success');\r\n      }\r\n    } else if (targeted.cellIndex === 4) {\r\n      if (isNaN(textInput.value)) {\r\n        targeted.textContent = originalText;\r\n\r\n        pushNotification('Error', 'Not a number', 'error');\r\n      } else {\r\n        targeted.textContent = `\r\n          $${parseInt(textInput.value).toLocaleString('en-US')}\r\n        `;\r\n\r\n        pushNotification('Success', 'Successfully changed', 'success');\r\n      }\r\n    }\r\n  });\r\n});\r\n"]}